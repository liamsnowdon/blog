

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1">
    
    <title>Serving GitHub assets via a CDN for improved performance | Liam Snowdon's Blog</title>
    <meta name="robots" content="index, follow">
    <meta name="description" content="Using a content distribution network increases performance by serving cached resources from different servers around the world.">
    <meta name="author" content="Liam Snowdon">

    <meta property="og:title" content="Serving GitHub assets via a CDN for improved performance | Liam Snowdon's Blog">
    <meta property="og:description" content="Using a content distribution network increases performance by serving cached resources from different servers around the world.">
    <meta property="og:type" content="article">
    
  <meta property="article:published_time" content="2021-02-18T00:00:00.000Z">
  <meta property="article:author" content="Liam Snowdon">
  
  

    <meta property="og:image" content="https://blog.liamsnowdon.uk/assets/images/posts/serving-github-assets-cdn/serving-github-assets-cdn.jpg">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="627">
    <meta property="og:url" content="https://blog.liamsnowdon.uk/posts/serving-github-assets-via-cdn">
    <meta property="og:site_name" content="Liam Snowdon | Blog">
    
    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@scssliam">
    <meta name="twitter:creator" content="@scssliam">

    <!-- Favicon -->
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#252830">
    <meta name="msapplication-TileColor" content="#00aba9">
    <meta name="theme-color" content="#252830">

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-PPSNMSKW2B"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-PPSNMSKW2B');
    </script>

    <script src="https://unpkg.com/scrollreveal@4.0.7/dist/scrollreveal.min.js"></script>

    <!-- inject:css -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/liamsnowdon/blog@gh-pages/assets/css/styles-9609126007.css">
    <!-- endinject -->
  </head>
  <body>
    <nav class="l-navigation js-navigation">
    <div class="l-navigation__links">
        <a class="l-navigation__link l-navigation__link--home" href="/">Blog</a>
        
        <div class="l-navigation__lists">
            <ul class="l-navigation__list">
                <li class="l-navigation__item">
                    <a class="l-navigation__link" href="/categories">Categories</a>
                </li>

                <li class="l-navigation__item">
                    <a class="l-navigation__link" href="/tags">Tags</a>
                </li>
            </ul>

            <ul class="l-navigation__list l-navigation__list--right">
                <li class="l-navigation__item">
                    <a class="l-navigation__link" href="https://liamsnowdon.uk" target="_blank">Visit Portfolio</a>
                </li>
            </ul>
        </div>
    </div>
</nav>


    
  <div id="fb-root"></div>
  <script async defer crossorigin="anonymous" src="https://connect.facebook.net/en_GB/sdk.js#xfbml=1&version=v9.0" nonce="GqtN5jsR"></script>
  <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>

  <div class="post-hero">
    <picture class="post-hero__background">
      <source 
        srcset="https://cdn.jsdelivr.net/gh/liamsnowdon/blog@gh-pages/assets/images/posts/serving-github-assets-cdn/serving-github-assets-cdn-header.jpg"
        media="(min-width: 768px)"
      >
      <img src="https://cdn.jsdelivr.net/gh/liamsnowdon/blog@gh-pages/assets/images/posts/serving-github-assets-cdn/serving-github-assets-cdn-thumbnail.jpg" alt="Serving GitHub assets via a CDN for improved performance" />
    </picture>
    <div class="l-content p-relative">
      <div class="post-hero__content load-hidden js-hero-text">
        <div class="post-hero__left">
          <h1>Serving GitHub assets via a CDN for improved performance</h1>
          <p>Using a content distribution network increases performance by serving cached resources from different servers around the world.</p>
        </div>
        
        <div class="post-hero__right">
          <h5><strong>Posted:</strong> Thursday 18th February 2021</h5>
            
          <h5><strong>Category:</strong> <a href="/categories/html">HTML</a></h5>
          
          
        </div>
      </div>
    </div>
  </div>
  
  <main>
    <nav class="l-sticky-nav">
  <ul class="l-sticky-nav__list">
    
      <li class="l-sticky-nav__item">
          <a class="l-sticky-nav__link" href="/categories/html">
            <i class="fab fa-html5"></i>
            <span class="l-sticky-nav__link-text">HTML</span></a>
        </li>
    
      <li class="l-sticky-nav__item">
          <a class="l-sticky-nav__link" href="/categories/css">
            <i class="fab fa-css3-alt"></i>
            <span class="l-sticky-nav__link-text">CSS</span></a>
        </li>
    
      <li class="l-sticky-nav__item">
          <a class="l-sticky-nav__link" href="/categories/javascript">
            <i class="fab fa-js"></i>
            <span class="l-sticky-nav__link-text">JavaScript</span></a>
        </li>
    
      <li class="l-sticky-nav__item">
          <a class="l-sticky-nav__link" href="/categories/general">
            <i class="far fa-newspaper"></i>
            <span class="l-sticky-nav__link-text">General</span></a>
        </li>
    
  </ul>
</nav>

    <div id="post" class="l-wrapper">
      <div class="l-content">
        <nav class="c-breadcrumbs">
          <ul class="c-breadcrumbs__links">
            <li class="c-breadcrumbs__link">
              <a href="/">Home</a>
            </li>

            <li class="c-breadcrumbs__link">
              <a href="/categories">Categories</a>
            </li>

            <li class="c-breadcrumbs__link">
              <a href="/categories/html">HTML</a>
            </li>

            <li class="c-breadcrumbs__link c-breadcrumbs__link--active-page">
              Serving GitHub assets via a CDN for improved performance
            </li>
          </ul>
        </nav>
          
        <div class="post">
          <article class="post__article">
            <div><p>It is already common to load third-party libraries, frameworks and packages via a CDN such a <strong>jsdelivr</strong> or <strong>unpkg</strong>. For example, you can use the following script tag to load jQuery onto the page without having it in your project's directory:</p>
<pre class="language-markup"><code>&lt;script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js"&gt;&lt;/script&gt;</code></pre>
<p>Jsdelivr also lets you load a file from a GitHub repository in a similar way:</p>
<pre class="language-markup"><code>&lt;script src="https://cdn.jsdelivr.net/gh/user/repo@version/file"&gt;&lt;/script&gt;

&lt;!-- images --&gt;
&lt;img src="https://cdn.jsdelivr.net/gh/liamsnowdon/blog@gh-pages/assets/images/posts/sass-7-1-pattern/sass-7-1-pattern-thumbnail.jpg" /&gt;

&lt;!-- css --&gt;
&lt;link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/liamsnowdon/blog@gh-pages/assets/css/styles-9609126007.css"&gt;

&lt;!-- javascript --&gt;
&lt;script src="https://cdn.jsdelivr.net/gh/liamsnowdon/blog@gh-pages/assets/js/main-8c6edcafde.js"&gt;&lt;/script&gt;</code></pre>
<p>The URL is formed of:</p>
<ol>
<li><strong>https://cdn.jsdelivr.net/gh/</strong> - beginning of URL, the "<strong>gh</strong>" part tells the CDN it is a GitHub file</li>
<li><strong>user/</strong>&nbsp;- GitHub username</li>
<li><strong>repo/</strong> - repository name</li>
<li><strong>@version/</strong> - the branch, release, etc</li>
<li><strong>file</strong> - the path to the file</li>
</ol>
<p>GTmetrix explains the advantages of using a CDN <a title="GTmetrix: Using a Content Delivery Network" href="https://gtmetrix.com/use-a-content-delivery-network-cdn.html" target="_blank" rel="noopener">here</a>.</p>
<blockquote>
<p>A Content Delivery Network reduces latency by caching your page's static resources across different servers around the world.</p>
<p>Depending on where your visitors are located, your page content is served from the closest server/CDN node.</p>
</blockquote>
<p>&nbsp;</p>
<h2>Tips</h2>
<p>Naturally, since the files are heavily cached it means any changes to that file will not be reflected in the CDN. A way around this is to use <strong>versioning</strong>. For example, on this blog I use the Gulp plugin <a title="gulp-rev" href="https://www.npmjs.com/package/gulp-rev" target="_blank" rel="noopener">gulp-rev</a> which adds a hash to the filename on build if the file has changed, turning <code class="b-inline-code">styles.scss</code> into <code class="b-inline-code">styles-9609126007.css</code>.&nbsp;</p>
<p>Another tip is to create a helper function that adds this CDN link to an asset URL. I created a Nunjucks macro to handle this:&nbsp;</p>
<pre class="language-markup"><code>&lt;!-- macros/asset-loader.njk --&gt;
{% macro image(path) %}{{ data.env.cdnHost }}{{ path }}{% endmacro %}

&lt;!-- pages/index.njk --&gt;
&lt;img src="{{ assetLoader.image(post.thumbnailImageUrl) }}" alt="{{ post.title }}" /&gt;

&lt;!-- index.html --&gt;
&lt;img src="https://cdn.jsdelivr.net/gh/liamsnowdon/blog@gh-pages/assets/images/posts/sass-7-1-pattern/sass-7-1-pattern-thumbnail.jpg" class="c-recent-post__image" alt="Using the 7-1 pattern for better Sass architecture"&gt;</code></pre>
<p>I wrote a post about using Nunjucks with Gulp <a title="Precompiling Nunjucks templates with Gulp" href="https://blog.liamsnowdon.uk/posts/precompiling-nunjucks">here</a>, which I use for this blog.</p>
<p>&nbsp;</p>
<h2>Conclusion</h2>
<p>Using a CDN to serve cached static resources is a great way to boost page performance by providing a faster page experience to visitors. Using it for as many images, JavaScript and CSS files as possible will ensure they are loaded as fast as possible.</p></div>
          </article>

          <aside class="post__sidebar">
            <div class="sidebar-pod">
              <div class="sidebar-pod__header">
                  <h4>Related posts</h4>
              </div>

              <div class="sidebar-pod__content">
                

                

                
                  <div class="sidebar-pod__row is-empty">
                      Could not find any related posts.
                  </div>
                
              </div>
            </div>

            <div class="sidebar-pod">
              <div class="sidebar-pod__header">
                <h4>Most recent in HTML</h4>
              </div>
              <div class="sidebar-pod__content">
                
                  
                  
                  
                    <a class="sidebar-pod__row" href="/posts/serving-github-assets-via-cdn" title="Serving GitHub assets via a CDN for improved performance">
                      <span class="sidebar-pod__title">Serving GitHub assets via a CDN for improved performance</span>
                      <span class="sidebar-pod__date">18/2/2021</span>
                    </a>
                  
                
                  
                  
                  
                
                  
                  
                  
                
                  
                  
                  
                
                  
                  
                  
                    <a class="sidebar-pod__row" href="/posts/handling-responsive-images" title="Handling responsive images">
                      <span class="sidebar-pod__title">Handling responsive images</span>
                      <span class="sidebar-pod__date">15/12/2020</span>
                    </a>
                  
                
                  
                  
                  
                
                  
                  
                  
                
              </div>
            </div>

            <div class="post__share-buttons">
              <a href="https://twitter.com/share?ref_src=twsrc%5Etfw" class="twitter-share-button" data-show-count="false" data-size="large">Tweet</a>

              <div class="fb-share-button" data-href="https://blog.liamsnowdon.uk/posts/serving-github-assets-via-cdn" data-layout="button" data-size="large"><a target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fdevelopers.facebook.com%2Fdocs%2Fplugins%2F&amp;src=sdkpreparse" class="fb-xfbml-parse-ignore">Share</a></div>
            </div>
          </aside>
        </div>
      </div>
    </div>
  </main>


    <a class="c-scroll-to-top js-scroll-to-top-button" href="#top"></a>

<footer class="l-footer">
    <div class="l-footer__main">
        <nav class="l-footer__links">
            <a href="/categories" class="l-footer__link">
                Categories
            </a>
            <a href="/tags" class="l-footer__link">
                Tags
            </a>
        </nav>
        <div class="l-footer__social">
            <h6>Liam Snowdon's Blog</h6>
            <p>You can visit my portfolio site <a href="https://liamsnowdon.uk" target="_blank">here</a>.</p>
            <div class="l-footer__social-links">
                <a href="https://www.linkedin.com/in/liam-snowdon/" target="_blank" class="l-footer__social-link">
                    <i class="fab fa-linkedin"></i>
                </a>
                <a href="https://github.com/liamsnowdon" target="_blank" class="l-footer__social-link">
                    <i class="fab fa-github"></i>
                </a>
            </div>
        </div>
    </div>
</footer>

    <!-- inject:js -->
    <script src="https://cdn.jsdelivr.net/gh/liamsnowdon/blog@gh-pages/assets/js/main-8c6edcafde.js"></script>
    <!-- endinject -->

    
  <script src="https://cdn.jsdelivr.net/gh/ireade/caniuse-embed/public/caniuse-embed.min.js"></script>

  </body>
</html>